<%- include('../partials/head', {title: 'Page Title' }) %> <%-
include('../partials/headerSub') %>
<style>
	body {
		font-family: Arial, sans-serif;
		background-color: #f8f9fa;
	}

	.product-container {
		display: flex;
		max-width: 800px;
		margin: 50px auto;
	}

	.product-list {
		flex: 1;
	}

	.cart-container {
		display: none;
		position: fixed;
		top: 50px; /* Adjust top position as per your layout */
		right: 20px; /* Position it to the right */
		width: 300px; /* Set a fixed width for the cart */
		background-color: #fff;
		padding: 20px;
		border: 1px solid #ccc;
		border-radius: 5px;
	}

	.cart-item {
		margin-bottom: 10px;
		border-bottom: 1px solid #ccc;
		padding-bottom: 10px;
	}
</style>

<div class="product-container">
	<div class="product-list">
		<h2 class="text-center mb-4">Products</h2>
		<!-- Filter Menu -->
		<div class="mb-4">
			Filter by Category:
			<button
				class="btn btn-primary filter-button show-button"
				product-category="all"
			>
				All
			</button>
			<button
				class="btn btn-primary filter-button show-button"
				product-category="Fruits"
			>
				Fruits
			</button>
			<button
				class="btn btn-primary filter-button show-button"
				product-category="Vegetables"
			>
				Vegetables
			</button>
		</div>
		<div class="row" id="product-list">
			<% products.forEach((product)=> { %>
			<div class="col-md-4" data-category="<%= product.category %>">
				<div class="card">
					<img
						src="<%= product.image %>"
						class="card-img-top"
						alt="<%= product.name %>"
					/>
					<div class="card-body">
						<h5 class="card-title"><%= product.name %></h5>
						<p class="card-text">Weight: <%= product.weight %> g</p>
						<p class="card-text">Price: <%= product.price %></p>
						<button
							class="btn btn-primary add-to-cart-btn"
							data-id="<%= product.id %>"
							data-name="<%= product.name %>"
							data-price="<%= product.price %>"
						>
							Add to Cart
						</button>
					</div>
				</div>
			</div>
			<% }) %>
		</div>
	</div>
</div>

<div class="cart-container">
	<h2 class="text-center mb-4">Cart</h2>
	<div id="cart-items"></div>
	<hr />
	<div id="total">Total: $0</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

<script>
	$(document).ready(function () {
		$(".filter-button").click(function () {
			var category = $(this).attr("product-category");
			if (category === "all") {
				$("[data-category]").show();
			} else {
				$("[data-category]").hide();
				$('[data-category="' + category + '"]').show();
			}
		});


	});
</script>
