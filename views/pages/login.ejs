<%- include('../partials/head') %> 
<% if (!userId) { %>
    <%- include('../partials/headerMain') %>
    
    <% } else { %> <%- include('../partials/headerSub') %> <% } %>
	<link rel="stylesheet" href="/css/style.css">

		<style>

			.login-container {
				max-width: 473px;
				margin: 100px auto;
				border: 2px solid rgb(0, 0, 0);
				padding: 31px;
				border-radius: 5%;
			}
			.login-form{

				min-height: 85vh;
			}

			.alert {
				background-color: transparent;
				color: transparent;
				border: none;
				transition: background-color 0.3s, color 0.3s, border-color 0.3s;
			}
		</style>
		
		<section class="login-form">

              <!-- ----------------------------- Login Container ----------------------------- -->
	
			<div class="login-container">
			<h2 class="text-center mb-4">Login</h2>
			<div id="alert" class="alert" role="alert"></div>

			<form action="/login" method="POST">
				<div class="mb-3">
					<label for="email" class="form-label">Email address</label>
					<input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp"
					required />
				</div>
				<div class="mb-3">
					<label for="password" class="form-label">Password</label>
					<input type="password" class="form-control" id="password" name="password" required />
				</div>
				<div class="text-center">
					<button type="submit" class="btn btn-primary btn-block">Login</button>
				</div>
			</form>
			<p class="text-center mt-3">
				Don't have an account? <a href="/signup">Sign Up</a>
			</p>
		</div>
	</section>


		<% if(successMessage || errorMessage) { %>
			<script>
				const errorMessage='<%= errorMessage %>'
				const successMessage='<%= successMessage %>'
				document.addEventListener("DOMContentLoaded", function() {
					var alertDiv = document.getElementById('alert');
			
					if (errorMessage) { 
						alertDiv.className = 'alert alert-danger';
						alertDiv.style.backgroundColor = '#f8d7da';
						alertDiv.style.color = '#721c24';
						alertDiv.style.borderColor = '#f5c6cb';
						alertDiv.innerText = "<%= errorMessage %>";
					} else if (successMessage) {
						alertDiv.className = 'alert alert-success';
						alertDiv.style.backgroundColor = '#d4edda';
						alertDiv.style.color = '#155724';
						alertDiv.style.borderColor = '#c3e6cb';
						alertDiv.innerText = "<%= successMessage %>";
					}
				});
			</script>
			<% } %>
			
		<% if(successMessage) { %>
			<script>
				setTimeout(function () {
					window.location.href = "/";
				}, 3000); 
			</script>
			<% } %>

				<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
				<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

				<%- include('../partials/footer') %>

			
				